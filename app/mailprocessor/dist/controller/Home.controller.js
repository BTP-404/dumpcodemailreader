sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast"],function(e,o){"use strict";return e.extend("com.mailprocessor.controller.Home",{onInit:function(){var e=sap.ui.getCore().getModel("userModel");if(!e){console.error("User model not found.");return}this.getView().setModel(e,"userModel");var o=localStorage.getItem("userType");if(o){e.setProperty("/userType",o);console.log("User type retrieved from local storage:",o)}else{console.warn("No userType found in local storage.")}var t=this.getOwnerComponent().getRouter();t.getRoute("RouteHomeDetail").attachPatternMatched(this._onRouteMatched,this)},_onRouteMatched:function(){var e=this.getView().getModel("userModel").getProperty("/userType");console.log("Current user type on route match:",e)},onHomeSelect:function(){this.getOwnerComponent().getRouter().navTo("RouteHomeDetail")},onEmailConfigSelect:function(){this._showTermsDialog()},_showTermsDialog:function(){var e=this.getView();var o=e.byId("termsDialog");if(!o){o=sap.ui.xmlfragment(e.getId(),"com.mailprocessor.fragments.TermsDialog",this);e.addDependent(o)}o.open()},onAcceptTermsPress:function(){var e=this.getView().byId("termsDialog");if(e){e.close()}this.getOwnerComponent().getRouter().navTo("RouteEmailAccountConfiguration")},onCancelTermsPress:function(){var e=this.getView().byId("termsDialog");if(e){e.close()}o.show("You need to accept the terms to proceed.");this.getOwnerComponent().getRouter().navTo("RouteHomeDetail")},onEmailReaderLog:function(){this.getOwnerComponent().getRouter().navTo("RouteEmailReaderLog")},onEmailProcessor:function(){this.getOwnerComponent().getRouter().navTo("RouteEmailProcessor")},onMailBox:function(){this.getOwnerComponent().getRouter().navTo("RouteMailBox")},onEmailReaderPress:function(){this.getOwnerComponent().getRouter().navTo("RouteConfiguredMail")},onLoginPress:function(){var e=this.byId("userType").getSelectedItem().getText();var o=this.getView().getModel("userModel");o.setProperty("/userType",e);localStorage.setItem("userType",e);console.log("User type set in local storage:",e)},onInvoiceApp:function(){this.getOwnerComponent().getRouter().navTo("RouteInvoiceApp")},onLogout:function(){var e=sap.ui.getCore().getModel("userModel");e.setProperty("/userType","");localStorage.removeItem("userType");console.log("User type cleared on logout.")}})});
//# sourceMappingURL=Home.controller.js.map