sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast","sap/ui/core/Fragment","sap/ui/model/json/JSONModel"],function(e,o,s,t){"use strict";return e.extend("com.mailprocessor.controller.HomeDetail",{onInit:function(){var e=sap.ui.getCore().getModel("userModel");if(!e){e=new t({userType:""});sap.ui.getCore().setModel(e,"userModel")}},onLoginPress:function(){var e=this.byId("userType");var s=e.getSelectedItem()?e.getSelectedItem().getText():"";var t=this.byId("username").getValue();var i=this.byId("password").getValue();var r=sap.ui.getCore().getModel("userModel");if(!s){o.show("Please select a user type.");return}r.setProperty("/userType",s);if(t&&i){if(s==="Admin"){o.show("Logged in as Admin.");this._navigateTo("RouteEmailAccountConfiguration",s)}else if(s==="User"){o.show("Logged in as User.");this._navigateTo("RouteConfiguredMail",s)}else{o.show("Invalid user type selected.")}}else{o.show("Please enter both username and password.")}},_navigateTo:function(e,o){var s=sap.ui.core.UIComponent.getRouterFor(this);s.navTo(e,{userType:o})},_showTermsDialog:function(){var e=this.getView();if(!this._oTermsDialog){s.load({id:e.getId(),name:"com.mailprocessor.fragments.TermsDialog",controller:this}).then(function(o){this._oTermsDialog=o;e.addDependent(o);o.open()}.bind(this))}else{this._oTermsDialog.open()}},onAcceptTermsPress:function(){if(this._oTermsDialog){this._oTermsDialog.close()}var e=this.getView().getModel("userModel");var o=e.getProperty("/userType");this._oTermsDialog.open();this._navigateTo("RouteEmailAccountConfiguration",o)},onCancelTermsPress:function(){if(this._oTermsDialog){this._oTermsDialog.close()}o.show("You need to accept the terms to proceed.");this._navigateTo("home")}})});
//# sourceMappingURL=HomeDetail.controller.js.map